function updateRating(t,e){let o=t.querySelector("#glassdoor-link");if(e){if(null!=e.overallRating&&null!=e.numberOfRatings){const o=t.querySelector(".glassdoor-rating"),n=t.querySelector(".glassdoor-reviews"),a=t.querySelector(".loading");a.classList.add("display-none"),o.classList.remove("display-none"),n.classList.remove("display-none"),"0"!==e.overallRating?o.textContent=`${e.overallRating} ★`:o.textContent="N/A ★",n.textContent=` • ${e.numberOfRatings} Reviews`}else o.textContent="Company not found";spanToLink(o),o=t.querySelector("#glassdoor-link"),o.setAttribute("href",e.url),o.setAttribute("target","_blank"),o.addEventListener("click",function(t){t.stopPropagation()})}else o.textContent="Could not contact Glassdoor servers"}function appendWrapper(t,e=!1,o=""){t.parentNode.querySelectorAll(".glassdoor-label-wrapper").forEach(t=>t.parentNode.removeChild(t)),t.insertAdjacentHTML("afterend",DOMPurify.sanitize(`<div class='glassdoor-label-wrapper ${o||""}'>\n\t\t\t<div class='glassdoor-label'>\n\t\t\t\t<div class='tbl'>\n\t\t\t\t\t<span id='glassdoor-link' ${e?"":"class='cell middle pad-right'"}>\n\t\t\t\t\t\t<span class='glassdoor-rating display-none'>★</span>\n\t\t\t\t\t\t<span class='glassdoor-reviews display-none'>•</span>\n\t\t\t\t\t\t<span class='loading'>\n\t\t\t\t\t\t\t<span>.</span>\n\t\t\t\t\t\t\t<span>.</span>\n\t\t\t\t\t\t\t<span>.</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<div class='cell middle pad-right second-line'>\n\t\t\t\t\t\tpowered by\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='cell middle logo-wrapper second-line'>\n\t\t\t\t\t\t<a href='https://www.glassdoor.com/index.htm'>\n\t\t\t\t\t\t\t<img src='https://www.glassdoor.com/static/img/api/glassdoor_logo_80.png' title='Job Search'>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t<div>\n\t\t</div>`))}function appendGlassdoor(t,e,o=!1,n=""){appendWrapper(t,o,n),addRating(t.nextSibling,cleanCompanyName(e))}var addRating=async function(t,e){var o=new Date,n=new Date(localStorage["gd-retrieval-date"]),a=864e5;if(checkDatabase(e)&&Math.round(Math.abs((o.getTime()-n.getTime())/a))<7){var s=JSON.parse(load(e));updateRating(t,s)}else{let o=new Headers;o.append("Content-Type","text/json");let n={method:"GET",headers:o};const a="https://glassdoor-cors-proxy.herokuapp.com/";let s=`https://glassdoor-search.netlify.app/.netlify/functions/gdinfo?company=${e}`;-1!=navigator.userAgent.indexOf("Chrome")&&(s=a+s);const d=await fetch(s,n);if(d.ok){const o=await d.json(),n=o.response,a=n.employers.slice(0,3),s=a.filter(function(t){return e.toLowerCase()===t.name.toLowerCase().replace(parenthesesRegex,"")});let c;var r,l;c=s.length>0?s.length>1?s.reduce(function(t,e){return e.numberOfRatings>t.numberOfRatings?e:t}):s[0]:a[0],c?(r=`https://www.glassdoor.com/Reviews/${e}-Reviews-E${c.id}.htm`,l={overallRating:c.overallRating,numberOfRatings:kFormatter(c.numberOfRatings),url:r}):(r=n.attributionURL,l={url:r}),updateRating(t,l),save(e,JSON.stringify(l))}else{updateRating(t,null);t.querySelector("#glassdoor-link")}}};[...document.querySelectorAll("[data-control-name='job_card_company_link']")].forEach(t=>{const e=t.childNodes[2].wholeText;appendGlassdoor(t,e)}),document.arrive("[data-control-name='job_card_company_link']",function(t){const e=t.childNodes[2].wholeText;appendGlassdoor(t,e)}),document.arrive(".jobs-details-top-card__company-url",function(t){let e=t.textContent;appendGlassdoor(t.parentNode,e,twoLines=!0);var o=new MutationObserver(function(o){o.forEach(function(){e=t.textContent,appendGlassdoor(t.parentNode,e,twoLines=!0)})});o.observe(t,{attributeFilter:["href"],subtree:!0})}),[...document.querySelectorAll(".entity-result__primary-subtitle")].forEach(t=>{const e=t.childNodes[2].textContent;appendGlassdoor(t,e)}),document.arrive(".entity-result__primary-subtitle",function(t){const e=t.childNodes[2].textContent;appendGlassdoor(t,e)}),[...document.querySelectorAll(".jobs-blended-container .job-card-square__text--1-line .job-card-container__company-name")].forEach(t=>{const e=t.childNodes[2].wholeText;appendGlassdoor(t.parentNode,e,twoLines=!0)}),document.arrive(".jobs-blended-container .job-card-square__text--1-line .job-card-container__company-name",function(t){const e=t.childNodes[2].wholeText;appendGlassdoor(t.parentNode,e,twoLines=!0)}),[...document.querySelectorAll(".org-jobs-recently-posted-jobs-module .job-card-square__text--1-line .job-card-container__company-name")].forEach(t=>{const e=t.childNodes[2].wholeText;appendGlassdoor(t.parentNode,e,twoLines=!0,classesToAdd="artdeco-entity-lockup__subtitle")}),document.arrive(".org-jobs-recently-posted-jobs-module .job-card-square__text--1-line .job-card-container__company-name",function(t){const e=t.childNodes[2].wholeText;appendGlassdoor(t.parentNode,e,twoLines=!0,classesToAdd="artdeco-entity-lockup__subtitle")}),[...document.querySelectorAll(".org-top-card-summary__title")].forEach(t=>{const e=t.textContent;appendGlassdoor(t,e,twoLines=!1,classesToAdd="t-14")}),document.arrive(".org-top-card-summary__title",function(t){const e=t.textContent;appendGlassdoor(t,e,twoLines=!1,classesToAdd="t-14")}),[...document.querySelectorAll(".jobs-top-card__company-url")].forEach(t=>{const e=t.textContent;appendGlassdoor(t.parentNode,e,twoLines=!1,classesToAdd="t-14")}),document.arrive(".jobs-top-card__company-url",function(t){const e=t.textContent;appendGlassdoor(t.parentNode,e,twoLines=!1,classesToAdd="t-14")}),[...document.querySelectorAll(".topcard__org-name-link")].forEach(t=>{const e=t.textContent;appendGlassdoor(t.parentNode.parentNode,e)}),document.arrive(".topcard__org-name-link",function(t){const e=t.textContent;appendGlassdoor(t.parentNode.parentNode,e)}),[...document.querySelectorAll(".people-also-viewed__list .result-card__subtitle--reduced-whitespace")].forEach(t=>{const e=t.textContent;appendGlassdoor(t,e,twoLines=!0)}),document.arrive(".people-also-viewed__list .result-card__subtitle--reduced-whitespace",function(t){const e=t.textContent;appendGlassdoor(t,e,twoLines=!0)}),[...document.querySelectorAll(".job-result-card__subtitle-link")].forEach(t=>{const e=t.textContent;appendGlassdoor(t,e)}),document.arrive(".job-result-card__subtitle-link",function(t){const e=t.textContent;appendGlassdoor(t,e)}),[...document.querySelectorAll(".show-more-less__list .result-card__title--reduced-whitespace")].forEach(t=>{const e=t.textContent;appendGlassdoor(t,e,twoLines=!0)}),document.arrive(".show-more-less__list .result-card__title--reduced-whitespace",function(t){const e=t.textContent;appendGlassdoor(t,e,twoLines=!0)}),[...document.querySelectorAll(".top-card-layout__title")].forEach(t=>{const e=t.textContent;appendGlassdoor(t,e)}),document.arrive(".top-card-layout__title",function(t){const e=t.textContent;appendGlassdoor(t,e)}),console.log("Glassdoor-Linkedinator loaded");
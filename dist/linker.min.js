function updateRating(e,t){let o=e.querySelector("#glassdoor-link");if(t){if(null!=t.overallRating&&null!=t.numberOfRatings){const o=e.querySelector(".glassdoor-rating"),n=e.querySelector(".glassdoor-reviews"),a=e.querySelector(".loading");a.classList.add("display-none"),o.classList.remove("display-none"),n.classList.remove("display-none"),"0"!==t.overallRating?o.textContent=`${t.overallRating} ★`:o.textContent="N/A ★",n.textContent=` • ${t.numberOfRatings} Reviews`}else o.textContent="Company not found";spanToLink(o),o=e.querySelector("#glassdoor-link"),o.setAttribute("href",t.url),o.setAttribute("target","_blank"),o.addEventListener("click",function(e){e.stopPropagation()})}else o.textContent="Could not contact Glassdoor servers"}function appendWrapper(e,t=!1,o=""){e.parentNode.querySelectorAll(".glassdoor-label-wrapper").forEach(e=>e.parentNode.removeChild(e));const n=document.createElement("div");n.className+="glassdoor-label-wrapper "+o,e.insertAdjacentElement("afterend",n);const a=document.createElement("div");a.className+="glassdoor-label",n.appendChild(a);const s=document.createElement("div");s.className+="tbl",a.appendChild(s);const r=document.createElement("span");r.id="glassdoor-link",t||(r.className+="cell middle pad-right"),s.appendChild(r);const l=document.createElement("span");l.className+="glassdoor-rating display-none",l.textContent="★",r.appendChild(l);const d=document.createElement("span");d.className+="glassdoor-reviews display-none",d.textContent="•",r.appendChild(d);const c=document.createElement("span");for(c.className+="loading",r.appendChild(c),i=0;i<3;i++){const e=document.createElement("span");e.textContent=".",c.appendChild(e)}const p=document.createElement("div");p.className+="second-line cell middle pad-right",p.textContent="powered by",s.appendChild(p);const u=document.createElement("div");u.className+="logo-wrapper second-line cell middle",s.appendChild(u);const m=document.createElement("a");m.href="https://www.glassdoor.com/index.htm",u.appendChild(m);const _=document.createElement("img");_.src="https://www.glassdoor.com/static/img/api/glassdoor_logo_80.png",_.title="Job Search",m.appendChild(_)}function appendGlassdoor(e,t,o=!1,n=""){appendWrapper(e,o,n),addRating(e.nextSibling,cleanCompanyName(t))}var addRating=async function(e,t){var o=new Date,n=new Date(localStorage["gd-retrieval-date"]),a=864e5;if(checkDatabase(t)&&Math.round(Math.abs((o.getTime()-n.getTime())/a))<7){var s=JSON.parse(load(t));updateRating(e,s)}else{let o=new Headers;o.append("Content-Type","text/json");let n={method:"GET",headers:o};const a="https://glassdoor-cors-proxy.herokuapp.com/";let s=`https://glassdoor-search.netlify.app/.netlify/functions/gdinfo?company=${t}`;-1!=navigator.userAgent.indexOf("Chrome")&&(s=a+s);const d=await fetch(s,n);if(d.ok){const o=await d.json(),n=o.response,a=n.employers.slice(0,3),s=a.filter(function(e){return t.toLowerCase()===e.name.toLowerCase().replace(parenthesesRegex,"")});let c;var r,l;c=s.length>0?s.length>1?s.reduce(function(e,t){return t.numberOfRatings>e.numberOfRatings?t:e}):s[0]:a[0],c?(r=`https://www.glassdoor.com/Reviews/${t}-Reviews-E${c.id}.htm`,l={overallRating:c.overallRating,numberOfRatings:kFormatter(c.numberOfRatings),url:r}):(r=n.attributionURL,l={url:r}),updateRating(e,l),save(t,JSON.stringify(l))}else{updateRating(e,null);e.querySelector("#glassdoor-link")}}};[...document.querySelectorAll("[data-control-name='job_card_company_link']")].forEach(e=>{const t=e.childNodes[2].wholeText;appendGlassdoor(e,t)}),document.arrive("[data-control-name='job_card_company_link']",function(e){const t=e.childNodes[2].wholeText;appendGlassdoor(e,t)}),document.arrive(".jobs-details-top-card__company-url",function(e){let t=e.textContent;appendGlassdoor(e.parentNode,t,twoLines=!0);var o=new MutationObserver(function(o){o.forEach(function(){t=e.textContent,appendGlassdoor(e.parentNode,t,twoLines=!0)})});o.observe(e,{attributeFilter:["href"],subtree:!0})}),[...document.querySelectorAll(".entity-result__primary-subtitle")].forEach(e=>{const t=e.childNodes[2].textContent;appendGlassdoor(e,t)}),document.arrive(".entity-result__primary-subtitle",function(e){const t=e.childNodes[2].textContent;appendGlassdoor(e,t)}),[...document.querySelectorAll(".jobs-blended-container .job-card-square__text--1-line .job-card-container__company-name")].forEach(e=>{const t=e.childNodes[2].wholeText;appendGlassdoor(e.parentNode,t,twoLines=!0)}),document.arrive(".jobs-blended-container .job-card-square__text--1-line .job-card-container__company-name",function(e){const t=e.childNodes[2].wholeText;appendGlassdoor(e.parentNode,t,twoLines=!0)}),[...document.querySelectorAll(".org-jobs-recently-posted-jobs-module .job-card-square__text--1-line .job-card-container__company-name")].forEach(e=>{const t=e.childNodes[2].wholeText;appendGlassdoor(e.parentNode,t,twoLines=!0,classesToAdd="artdeco-entity-lockup__subtitle")}),document.arrive(".org-jobs-recently-posted-jobs-module .job-card-square__text--1-line .job-card-container__company-name",function(e){const t=e.childNodes[2].wholeText;appendGlassdoor(e.parentNode,t,twoLines=!0,classesToAdd="artdeco-entity-lockup__subtitle")}),[...document.querySelectorAll(".org-top-card-summary__title")].forEach(e=>{const t=e.textContent;appendGlassdoor(e,t,twoLines=!1,classesToAdd="t-14")}),document.arrive(".org-top-card-summary__title",function(e){const t=e.textContent;appendGlassdoor(e,t,twoLines=!1,classesToAdd="t-14")}),[...document.querySelectorAll(".jobs-top-card__company-url")].forEach(e=>{const t=e.textContent;appendGlassdoor(e.parentNode,t,twoLines=!1,classesToAdd="t-14")}),document.arrive(".jobs-top-card__company-url",function(e){const t=e.textContent;appendGlassdoor(e.parentNode,t,twoLines=!1,classesToAdd="t-14")}),[...document.querySelectorAll(".topcard__org-name-link")].forEach(e=>{const t=e.textContent;appendGlassdoor(e.parentNode.parentNode,t)}),document.arrive(".topcard__org-name-link",function(e){const t=e.textContent;appendGlassdoor(e.parentNode.parentNode,t)}),[...document.querySelectorAll(".people-also-viewed__list .result-card__subtitle--reduced-whitespace")].forEach(e=>{const t=e.textContent;appendGlassdoor(e,t,twoLines=!0)}),document.arrive(".people-also-viewed__list .result-card__subtitle--reduced-whitespace",function(e){const t=e.textContent;appendGlassdoor(e,t,twoLines=!0)}),[...document.querySelectorAll(".job-result-card__subtitle-link")].forEach(e=>{const t=e.textContent;appendGlassdoor(e,t)}),document.arrive(".job-result-card__subtitle-link",function(e){const t=e.textContent;appendGlassdoor(e,t)}),[...document.querySelectorAll(".show-more-less__list .result-card__title--reduced-whitespace")].forEach(e=>{const t=e.textContent;appendGlassdoor(e,t,twoLines=!0)}),document.arrive(".show-more-less__list .result-card__title--reduced-whitespace",function(e){const t=e.textContent;appendGlassdoor(e,t,twoLines=!0)}),[...document.querySelectorAll(".top-card-layout__title")].forEach(e=>{const t=e.textContent;appendGlassdoor(e,t)}),document.arrive(".top-card-layout__title",function(e){const t=e.textContent;appendGlassdoor(e,t)}),console.log("Glassdoor-Linkedinator loaded");
var checkDatabase=function(a){return!!localStorage[a]},save=function(a,o){localStorage[a]=10*o;var t=new Date;localStorage["gd-retrieval-date"]=t.toDateString()},load=function(a){return localStorage[a]},genIP=function(){return randomInt()+"."+randomInt()+"."+randomInt()+"."+randomInt()},randomInt=function(){return Math.floor(220*Math.random()+15)},gdinfo=function(a,o){var t=new Date,n=load(o),e=new Date(localStorage["gd-retrieval-date"]),r=864e5;if(checkDatabase(o)&&Math.round(Math.abs((t.getTime()-e.getTime())/r))<7){var s=n/10;a.find(".glassdoor-rating").html(s)}else{var l=new XMLHttpRequest;const t=51706,n="xBpFKWDKEM";var i="https://api.glassdoor.com/api/api.htm?v=1&format=json&t.p="+t+"&t.k="+n+"&action=employers&userip="+genIP()+"&useragent="+navigator.userAgent+"&q="+o;l.open("GET",i,!0),l.setRequestHeader("Access-Control-Allow-Origin","*"),l.onreadystatechange=function(){if(200==l.status){var t=JSON.parse(l.responseText||"null");if(null!=t){if(1==t.success){var n=t.response.employers[0].overallRating;save(o,n),a.find(".glassdoor-rating").html(n)}if(0==t.success){var e="Requests throttled by Glassdoor. Try again in a few minutes";a.find(".glassdoor-rating").html(e)}}}else{e="Could not contact Glassdoor servers";a.find("glassdoor-rating").html(e)}},l.send()}};$("[data-control-name='job_card_company_link']").each(function(){$(this).append("<div class='glassdoor-label-wrapper'><div class='glassdoor-label'>Rating: <span class='glassdoor-rating'></span><div><a class='glassdoor-link' style='color:white' href='http://www.glassdoor.com/index.htm'>Powered by  <img style='margin-left:6px' src='http://www.glassdoor.com/static/img/api/glassdoor_logo_80.png' title='Job Search' /></a></div></div></div>")}),$("[data-control-name='job_card_company_link'] .glassdoor-label").each(function(){$(this).hide()}),$("[data-control-name='job_card_company_link']").hover(function(){var a=$(this).find("a"),o=a.html(),t=$(this);if(void 0!==o){$(this).find(".glassdoor-label").toggle();var n=o.replace("<b>","").replace("</b>","");gdinfo(t,n)}}),$(".pagination a").click(function(){window.location.reload()}),$(".submit-advs").click(function(){window.location.reload()}),$(".label-container").click(function(){window.location.reload()}),console.log("hi");